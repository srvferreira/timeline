<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/WEB-INF/template/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">



<ui:define name="conteudo">

<h:form prependId="false" id="frmResponsaveis">

<p:panel header="Gerar relatório por responsáveis" style="width:430px;">

<h:panelGrid columns="2">

<h:outputLabel value="Centro de Resultado"/>

<p:selectOneMenu style="width:220px;" value="#{relrespMB.centro_resultado}">
				<f:selectItem itemLabel="Escolha uma Opção" itemValue=""/>
				<f:selectItems value="#{bensMB.ctResultadoVo}" var="ctro"
				                itemLabel="#{ctro.ct_resultado}" itemValue="#{ctro.ct_resultado}"/>
			 <p:ajax event="change" listener="#{relrespMB.retornarLocalizacoes}" update="local, responsavel"/>
			</p:selectOneMenu>

<h:outputLabel value="localização"/>
			<p:selectOneMenu id="local" style="width:220px;" value="#{relrespMB.localizacao}">
				<f:selectItem itemLabel="Escolha uma Opção" itemValue=""/>
				<f:selectItems value="#{relrespMB.locais}" var="l" 
				               itemLabel="#{l.localizacao}" itemValue="#{l.localizacao}"/>
			</p:selectOneMenu>
			
<h:outputLabel value="Responsável"/>
<p:selectOneMenu value="#{relrespMB.responsavel}" id="responsavel">
			<f:selectItems value="#{relrespMB.listaResponsavei}" var="resp" 
			               itemLabel="#{resp.nome}" itemValue="#{resp.nome}"/>
		</p:selectOneMenu>
		
<h:outputLabel value="Tipo de Relatório"/>
<p:selectOneRadio value="#{relrespMB.tipo}">
	<f:selectItem itemLabel="Todos" itemValue="todos"/>
	<f:selectItem itemLabel="específico" itemValue="especifico"/>
</p:selectOneRadio>

<p:commandButton value="Relatório detalhado" actionListener="#{relrespMB.relatorioDetalhado}" ajax="false" onclick="this.form.target='_blank'"/>
<p:commandButton value="Relatório básico" actionListener="#{relrespMB.gerarRelatorioBasico}" ajax="false"  onclick="this.form.target='_blank'"/>
</h:panelGrid>

</p:panel>
</h:form>


</ui:define>
</ui:composition>